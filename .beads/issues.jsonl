{"id":"moltid-0x3","title":"PATCH ENDPOINT: In src/routes/agents.ts - add PATCH /v1/agents/:id with requireAgentAuth, accept {capabilities}, validate with Zod, call updateCapabilities(), return updated agent","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:09.203449-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:09.203449-08:00"}
{"id":"moltid-1sa","title":"CAPABILITIES UPDATE: In src/services/agent.ts - add updateCapabilities(id, capabilities) with validation (max 20 items, lowercase a-z0-9_, max 50 chars each, no duplicates)","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:05.8641-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:05.8641-08:00"}
{"id":"moltid-5rc","title":"DATABASE SCHEMA: Add api_key_hash (TEXT) and api_key_prefix (TEXT, 16 chars) columns to agents table in src/db/schema.sql","status":"closed","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:02:55.244764-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:04:18.930496-08:00","closed_at":"2026-01-30T16:04:18.930496-08:00","close_reason":"Closed"}
{"id":"moltid-5yn","title":"REGISTRATION RESPONSE: In src/routes/agents.ts - update POST /v1/agents to return api_key and api_key_warning in response data","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:10.523327-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:10.523327-08:00"}
{"id":"moltid-9nx","title":"KEY VALIDATION: In src/services/agent.ts - add validateApiKey(agentId, apiKey) method with timing-safe hash comparison","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:02:57.159805-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:02:57.159805-08:00"}
{"id":"moltid-9p8","title":"TESTS: Update test/setup.ts, test/agent.test.ts, test/api.test.ts with tests for key generation, validation, capabilities update, PATCH endpoint, vouch auth","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:16.606547-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:16.606547-08:00"}
{"id":"moltid-cf2","title":"TYPE SYSTEM: Update src/types.ts - add api_key_hash and api_key_prefix to Agent interface, create AgentRegistrationResult type","status":"closed","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:02:55.34878-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:05:30.1247-08:00","closed_at":"2026-01-30T16:05:30.1247-08:00","close_reason":"Completed: Added api_key_hash and api_key_prefix to Agent interface, created AgentRegistrationResult type"}
{"id":"moltid-d4i","title":"DOCUMENTATION: Update SKILL_MD in src/index.ts with Authentication section, PATCH endpoint docs, updated vouch docs, key storage warnings","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:18.122507-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:18.122507-08:00"}
{"id":"moltid-e2t","title":"KEY ROTATION (OPTIONAL): Add POST /v1/agents/:id/rotate-key endpoint with auth, generate new key, invalidate old, return new key one-time","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:19.640846-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:19.640846-08:00"}
{"id":"moltid-jgo","title":"VOUCH AUTH (BREAKING): In src/routes/agents.ts - add requireAgentAuth to POST /:id/vouch, derive from_agent_id from authenticated context instead of request body","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:14.993942-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:14.993942-08:00"}
{"id":"moltid-lqv","title":"AUTH MIDDLEWARE: In src/routes/agents.ts - create requireAgentAuth middleware extracting Bearer token, validating key against agent from :id param, return 401 for missing/invalid","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:03:07.555587-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:03:07.555587-08:00"}
{"id":"moltid-q6q","title":"KEY GENERATION: In src/services/agent.ts - add hashApiKey() utility using Web Crypto SHA-256, modify create() to generate moltid_key_{nanoid(32)}, hash it, store hash+prefix, return {agent, apiKey}","status":"open","priority":2,"issue_type":"task","owner":"hatzopoulosalexandros@gmail.com","created_at":"2026-01-30T16:02:56.266705-08:00","created_by":"Alexandros Hatzopoulos","updated_at":"2026-01-30T16:02:56.266705-08:00"}
